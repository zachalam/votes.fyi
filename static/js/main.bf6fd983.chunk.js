(this["webpackJsonpvotes.fyi"]=this["webpackJsonpvotes.fyi"]||[]).push([[0],{213:function(e,t,n){e.exports=n(466)},218:function(e,t,n){},466:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(40),l=n.n(o),s=(n(218),n(6)),c=n.n(s),i=n(82),u=n(91),m=n(23),p=n(24),v=n(25),h=n(35),g=n(474),b=n(128),f=n(196),d=n(198);function E(){return(E=Object(i.a)(c.a.mark((function e(t){var n,a,r,o,l,s,i,u,m,p,v,h,g,E,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.connect)(t,"thegraph");case 2:return n=e.sent,e.next=5,n.app("voting");case 5:return a=e.sent,r={},{},o=new d.Voting(a.address,"https://api.thegraph.com/subgraphs/name/aragon/aragon-voting-mainnet"),e.next=11,o.votes();case 11:l=e.sent,s=Object(b.a)(l),e.prev=13,s.s();case 15:if((i=s.n()).done){e.next=24;break}return u=i.value,e.next=19,u.casts();case 19:m=e.sent,p=Object(b.a)(m);try{for(p.s();!(v=p.n()).done;)h=v.value,g={},r[h.voter]?(E=r[h.voter],g={supportVotes:(h.supports?1:0)+E.supportVotes,totalVotes:1+E.totalVotes}):g={supportVotes:h.supports?1:0,totalVotes:1},r[h.voter]=g}catch(c){p.e(c)}finally{p.f()}case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),s.e(e.t0);case 29:return e.prev=29,s.f(),e.finish(29);case 32:return j={allVotes:l,allCasts:r},console.log("bundle is"),console.log(j),e.abrupt("return",j);case 36:case"end":return e.stop()}}),e,null,[[13,26,29,32]])})))).apply(this,arguments)}var j=function(e){return E.apply(this,arguments)},O=n(88),w=n.n(O),y=n(89),k=function(e){Object(v.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={visibile:!0},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.setState({visible:!1})}),1012),setInterval((function(){e.setState({visible:!0})}),1024)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.Animated,{animationIn:"pulse",isVisible:this.state.visible,animationInDuration:1e3},r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:w.a,style:{width:"75%"}}))),r.a.createElement("h1",null,"Crunching DAO votes..."),r.a.createElement("h3",null,r.a.createElement("b",null,this.props.orgName)))}}]),n}(r.a.Component),x=(r.a.Component,n(473)),C=n(472),V=function(e){Object(v.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(m.a)(this,n),t.call(this,e)}return Object(p.a)(n,[{key:"render",value:function(){for(var e=[],t=0,n=Object.entries(this.props.allCasts);t<n.length;t++){var a=Object(u.a)(n[t],2),o=a[0],l=a[1];e.push(r.a.createElement(x.a.Row,null,r.a.createElement(x.a.Cell,null,o.substring(0,6),"..",o.substring(38)),r.a.createElement(x.a.Cell,null,l.length," votes")))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{basic:"very",celled:!0,collapsing:!0,style:{width:"100%"}},r.a.createElement(x.a.Body,null,r.a.createElement(x.a.Row,null,r.a.createElement(x.a.Cell,null,r.a.createElement(C.a,{ribbon:!0},"First")),r.a.createElement(x.a.Cell,null)),e)))}}]),n}(r.a.Component),D=function(e){Object(v.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).Leaderboard=function(e){console.log("casts is.."),console.log(e);for(var t=[],n=0,a=Object.entries(e);n<a.length;n++){var o=Object(u.a)(a[n],2),l=o[0];o[1];t.push(r.a.createElement("div",null,l))}return t},a.state={votingDetails:{},orgName:"governance.aragonproject.eth"},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(window.location),setTimeout((function(){window.location="/#looo"}),3e3),e.next=4,j(this.state.orgName);case 4:t=e.sent,this.setState({votingDetails:t});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.votingDetails,n=e.orgName,a=t.allCasts,o=r.a.createElement(k,{orgName:n});return a&&(o=r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(V,{allCasts:a})))),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(g.a.Column,{style:{maxWidth:500,paddingTop:"1em"}},o)))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,n){e.exports=n.p+"static/media/votes.fyi.561ac2a9.png"}},[[213,1,2]]]);
//# sourceMappingURL=main.bf6fd983.chunk.js.map